<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings</title>
  <link id="favicon" rel="icon" href="../logo.png">
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: #f0f0f0;
    }
    h1 {
      margin-bottom: 20px;
    }
    select {
      padding: 10px 15px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1>Choose Your Site</h1>
  <select id="siteSelector">
    <option value="default" data-title="Broomleigh Learning" data-favicon="../logo.png">Default</option>
    <option value="site1" data-title="Canvas" data-favicon="assets/canvas.png">Canvas</option>
    <option value="site2" data-title="Site Two" data-favicon="assets/favicon2.png">Site Two</option>
    <option value="site3" data-title="Site Three" data-favicon="assets/favicon3.png">Site Three</option>
  </select>

  <script>
    const selector = document.getElementById('siteSelector');
    const favicon = document.getElementById('favicon');

    function changeSite() {
      const selected = selector.options[selector.selectedIndex];
      const newTitle = selected.getAttribute('data-title');
      const newFavicon = selected.getAttribute('data-favicon');

      document.title = newTitle;
      favicon.href = newFavicon;

      localStorage.setItem('siteTitle', newTitle);
      localStorage.setItem('siteFavicon', newFavicon);
    }

    selector.addEventListener('change', changeSite);

    // Apply saved site on page load
    window.addEventListener('load', () => {
      const savedTitle = localStorage.getItem('siteTitle');
      const savedFavicon = localStorage.getItem('siteFavicon');

      if (savedTitle && savedFavicon) {
        document.title = savedTitle;
        favicon.href = savedFavicon;

        for (let i = 0; i < selector.options.length; i++) {
          if (selector.options[i].getAttribute('data-title') === savedTitle) {
            selector.selectedIndex = i;
            break;
          }
        }
      }
    });
  </script>
</body>
</html>
